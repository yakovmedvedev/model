!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.retinajs=e()}(this,function(){"use strict";function t(t){return Array.prototype.slice.call(t)}function e(t){var e=parseInt(t,10);return e>s?s:e}function n(t){return t.hasAttribute("data-no-resize")||(0===t.offsetWidth&&0===t.offsetHeight?(t.setAttribute("width",t.naturalWidth),t.setAttribute("height",t.naturalHeight)):(t.setAttribute("width",t.offsetWidth),t.setAttribute("height",t.offsetHeight))),t}function r(t,e){var r=t.nodeName.toLowerCase(),i=document.createElement("img");i.addEventListener("load",function(){"img"===r?n(t).setAttribute("src",e):t.style.backgroundImage="url("+e+")"}),i.setAttribute("src",e),t.setAttribute(h,!0)}function i(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=e(i);if(n&&o>1){var u=n.replace(c,"@"+o+"x$1");r(t,u)}}function o(t,e,n){s>1&&r(t,n)}function u(e){return e?"function"==typeof e.forEach?e:t(e):"undefined"==typeof document?[]:t(document.querySelectorAll(g))}function a(t){return t.style.backgroundImage.replace(l,"$2")}function d(t){u(t).forEach(function(t){if(!t.getAttribute(h)){var e="img"===t.nodeName.toLowerCase(),n=e?t.getAttribute("src"):a(t),r=t.getAttribute("data-rjs"),u=!isNaN(parseInt(r,10));if(null===r)return;u?i(t,n,r):o(t,n,r)}})}var f="undefined"!=typeof window,s=Math.round(f?window.devicePixelRatio||1:1),c=/(\.[A-z]{3,4}\/?(\?.*)?)$/,l=/url\(('|")?([^)'"]+)('|")?\)/i,g="[data-rjs]",h="data-rjs-processed";return f&&(window.addEventListener("load",function(){d()}),window.retinajs=d),d});